{"componentChunkName":"component---src-templates-post-detail-js","path":"/post/how-to-configure-magento-2-add-extra-fee-in-checkout/","result":{"data":{"wpPost":{"title":"How To Configure Magento 2 Add Extra Fee In Checkout","content":"\n<p>Magento 2 is a popular eCommerce platform that offers various features to its users, including the ability to add an extra fee to the checkout process. This can be useful for businesses that want to charge additional fees for specific products or services. In this article, we will explain <strong><em>how to configure Magento 2 to add extra fee in checkout</em></strong> process. Additionally, we will provide an overview of <a href=\"/how-the-checkout-process-is-organized-in-magento-2/\">how the checkout process is organized in Magento 2</a>. So, whether you&#8217;re looking to add extra fees to your checkout process or simply want to understand how it works, this article has got you covered.</p>\n\n\n\n<h2 class=\"wp-block-heading\">How To Configure Magento 2 Add Extra Fee In Checkout: A Step-by-Step Guide</h2>\n\n\n\n<h3 class=\"wp-block-heading\">Why do you need to add an extra fee?</h3>\n\n\n\n<p>Store owners who provide additional services, such as one-day delivery, gift wrapping, or extended warranty, may find adding extra charges to their store extremely useful. However, the default Magento platform only supports a limited number of fees, such as free shipping, <a href=\"https://woocommerce.com/document/table-rate-shipping/\">table rate</a>, or flat rate, which can be problematic. When an additional fee is incurred, store owners often have to add it directly to product prices, which can result in two issues. The <strong><em>Magento 2 add extra fee in checkout</em></strong> feature can assist e-commerce store owners in solving the problem of customers being unaware of added fees, which may lead to abandoned shopping carts due to increased product prices. This function allows for the addition of extra charges during the checkout process, providing customers with a clear understanding of the associated costs. Moreover, fees can be displayed on the storefront, enabling shoppers to conveniently view the charges when they add items to their shopping cart. By utilizing this feature, store owners can improve their customer&#8217;s shopping experience while avoiding cart abandonment issues.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Configure Magento 2 to add an extra fee in checkout programmatically.</h3>\n\n\n\n<p>For those who are well-versed in coding and prefer a no-cost option, configuring Magento 2 Add Extra Fee in Checkout programmatically is a viable solution. The first step is to create a sales.xml file in your module&#8217;s etc. folder.</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>&lt;?xml version=\"1.0\"?&gt;\n\n&lt;config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:module:Magento_Sales:etc/sales.xsd\"&gt;\n    &lt;section name=\"quote\"&gt;\n        &lt;group name=\"totals\"&gt;\n            &lt;item name=\"customfee\" instance=\"Webguru\\Test\\Model\\Total\\Customfee\" sort_order=\"150\"/&gt;\n        &lt;/group&gt;  \n    &lt;/section&gt;\n&lt;/config&gt;</em>\n</code></pre>\n\n\n\n<p>Now, define app\\code\\Webguru\\Test\\Model\\Total\\Customfee.php.</p>\n\n\n\n<p>At this stage, you can activate the feature to update your total based on your custom fee.</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>class Customfee extends \\Magento\\Quote\\Model\\Quote\\Address\\Total\\AbstractTotal\n{\n   /**\n     * Collect grand total address amount\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param \\Magento\\Quote\\Api\\Data\\ShippingAssignmentInterface $shippingAssignment\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\Total $total\n     * @return $this\n     */\n    protected $quoteValidator = null; \n\n    public function __construct(\\Magento\\Quote\\Model\\QuoteValidator $quoteValidator)\n    {\n        $this-&gt;quoteValidator = $quoteValidator;\n    }\n  public function collect(\n        \\Magento\\Quote\\Model\\Quote $quote,        \\Magento\\Quote\\Api\\Data\\ShippingAssignmentInterface $shippingAssignment,\n        \\Magento\\Quote\\Model\\Quote\\Address\\Total $total\n    ) {\n        parent::collect($quote, $shippingAssignment, $total);\n\n\n        $exist_amount = 0; //$quote-&gt;getCustomfee(); \n        $customfee = 100; //enter amount which you want to set\n        $balance = $customfee - $exist_amount;//final amount\n\n        $total-&gt;setTotalAmount('customfee', $balance);\n        $total-&gt;setBaseTotalAmount('customfee', $balance);\n\n        $total-&gt;setCustomfee($balance);\n        $total-&gt;setBaseCustomfee($balance);\n\n        $total-&gt;setGrandTotal($total-&gt;getGrandTotal() + $balance);\n        $total-&gt;setBaseGrandTotal($total-&gt;getBaseGrandTotal() + $balance);\n\n\n        return $this;\n    } \n\n    protected function clearValues(Address\\Total $total)\n    {\n        $total-&gt;setTotalAmount('subtotal', 0);\n        $total-&gt;setBaseTotalAmount('subtotal', 0);\n        $total-&gt;setTotalAmount('tax', 0);\n        $total-&gt;setBaseTotalAmount('tax', 0);\n        $total-&gt;setTotalAmount('discount_tax_compensation', 0);\n        $total-&gt;setBaseTotalAmount('discount_tax_compensation', 0);\n        $total-&gt;setTotalAmount('shipping_discount_tax_compensation', 0);\n        $total-&gt;setBaseTotalAmount('shipping_discount_tax_compensation', 0);\n        $total-&gt;setSubtotalInclTax(0);\n        $total-&gt;setBaseSubtotalInclTax(0);\n    }\n    /**\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param Address\\Total $total\n     * @return array|null\n     */\n    /**\n     * Assign subtotal amount and label to address object\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param Address\\Total $total\n     * @return array\n     */\n    public function fetch(\\Magento\\Quote\\Model\\Quote $quote, \\Magento\\Quote\\Model\\Quote\\Address\\Total $total)\n    {\n        return &#91;\n            'code' =&gt; 'custom fee',\n            'title' =&gt; 'Custom Fee',\n            'value' =&gt; 100\n        ];\n    }\n\n    /**\n     * Get Subtotal label\n     *\n     * @return \\Magento\\Framework\\Phrase\n     */\n    public function getLabel()\n    {\n        return __('Custom Fee');\n    }\n}\n\n</em>\n</code></pre>\n\n\n\n<p>Here&#8217;s a possible rephrased version of the text.</p>\n\n\n\n<p>And that&#8217;s all there is to it. By following just two steps, you can add a customs fee to your checkout page.</p>\n\n\n\n<h2 class=\"wp-block-heading\">Conclusion</h2>\n\n\n\n<p>Online businesses may find it beneficial to include extra fees during the checkout process to provide additional services or cover costs. While Magento 2 has pre-built fee options, the platform&#8217;s Add Extra Fee in Checkout feature allows for a more personalized approach. By following the guidelines provided in this article on <strong><em>how to configure Magento 2 to add extra fee in checkout</em></strong>, store owners can easily set up this feature to meet their specific needs and enhance their customers&#8217; shopping experience. Magento 2&#8217;s flexibility and functionality make it an excellent option for eCommerce businesses of all sizes looking to <strong><em>configure Magento 2 Add Extra Fee in Checkout</em></strong>. Overall, this feature can be a valuable addition for online businesses seeking to provide transparency and clarity to their customers during the checkout process.</p>\n<div class='sfsi_Sicons sfsi_Sicons_position_left' style='float: none; vertical-align: middle; text-align:left'><div style='margin:0px 8px 0px 0px; line-height: 24px'><span>Please follow and like us:</span></div><div class='sfsi_socialwpr'><div class='sf_fb_share sf_icon' style='text-align:left;vertical-align: middle;'><a  target='_blank' rel='noopener' href='https://www.facebook.com/sharer/sharer.php?u=/how-to-configure-magento-2-add-extra-fee-in-checkout/' style='display:inline-block;'><img class='sfsi_wicon'  data-pin-nopin='true' alt='fb-share-icon' title='Facebook Share' src='https://webguru.dev/wp-content/plugins/ultimate-social-media-icons/images/share_icons/fb_icons/en_US.svg' /></a></div><div class='sf_twiter sf_icon' style='display: inline-block;vertical-align: middle;width: auto;margin-left: 7px;'>\r\n\t\t\t\t\t\t<a target='_blank' rel='noopener' href='https://twitter.com/intent/tweet?text=How+To+Configure+Magento+2+Add+Extra+Fee+In+Checkout+https%3A%2F%2Fwebguru.dev%2Fhow-to-configure-magento-2-add-extra-fee-in-checkout%2F'style='display:inline-block' >\r\n\t\t\t\t\t\t\t<img data-pin-nopin= true class='sfsi_wicon' src='https://webguru.dev/wp-content/plugins/ultimate-social-media-icons/images/share_icons/Twitter_Tweet/en_US_Tweet.svg' alt='Tweet' title='Tweet' >\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div></div></div><div class=\"saboxplugin-wrap\" itemtype=\"http://schema.org/Person\" itemscope itemprop=\"author\"><div class=\"saboxplugin-tab\"><div class=\"saboxplugin-gravatar\"><div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained  inline-gatsby-image-wrapper\"><div style=\"max-width:100px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;100&#x27;%20width=&#x27;100&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 100px) 100px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22\" data-srcset=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 100w\" alt=\"Aaron Jenkins\"/><noscript><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 100px) 100px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22\" srcSet=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 100w\" alt=\"Aaron Jenkins\"/></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector(\"[data-placeholder-image]\").style.opacity=0)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"1\">{\"image\":{\"images\":{\"sources\":[],\"fallback\":{\"src\":\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22\",\"srcSet\":\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 100w\",\"sizes\":\"(min-width: 100px) 100px, 100vw\"}},\"layout\":\"constrained\",\"width\":100,\"height\":100},\"alt\":\"Aaron Jenkins\",\"className\":\" inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"1\"}</script></div><div class=\"saboxplugin-authorname\"><a href=\"/author/aaron-jenkins/\" class=\"vcard author\" rel=\"author\"><span class=\"fn\">Aaron Jenkins</span></a></div><div class=\"saboxplugin-desc\"><div itemprop=\"description\"><p>I am Aaron Jenkins, a Magento Developer with over 12+ years of experience. I specialize in Magento 2 and I am passionate about sharing my knowledge and experience through my blog. Here, I will be sharing tutorials, tips, and best practices for all things Magento 2. Follow my blog and let&#8217;s learn and grow together.</p>\n</div></div><div class=\"clearfix\"></div></div></div>","date":"May 05, 2023"}},"pageContext":{"id":"cG9zdDoxODQ2"}},"staticQueryHashes":[],"slicesMap":{}}