{"componentChunkName":"component---src-templates-post-detail-js","path":"/post/how-to-create-and-schedule-backups-in-magento-2/","result":{"data":{"wpPost":{"title":"How to Create and Schedule Backups in Magento 2?","content":"\n<p>As an individual who owns a store on the Magento platform, it is crucial to be equipped for unforeseen events such as data loss that may result from security breaches or system crashes. Fortunately, Magento provides an in-built tool for creating backups, which enables you to generate backups on-demand or schedule them at your convenience. In this guide on <strong><em>How to Create and Schedule Backups in Magento 2</em></strong>, we&#8217;ve covered all the essential details about Magento 2 backup, including its functioning and how to perform correct backups in Magento 2. By following the steps outlined in this guide, you can ensure that your store&#8217;s data remains safe and recoverable, even in the event of a ransomware attack or other unexpected events.</p>\n\n\n\n<h1 class=\"wp-block-heading\">How to Create and Schedule Backups in Magento 2: A Comprehensive Guide</h1>\n\n\n\n<h2 class=\"wp-block-heading\">The basics of Magento 2 backup</h2>\n\n\n\n<p>The Magento 2 Open Source platform is outfitted with an internal backup module that enables you to back up diverse sections of your store in two different ways. You can do this by either utilizing the admin panel or using the Magento command line interface (CLI). Furthermore, Adobe Commerce Cloud users have the added benefit of being able to utilize these two approaches as well as create a snapshot of their application environment via the Project Web Interface. This snapshot creates a comprehensive backup of all the services operating on the server, including <a href=\"https://redis.com/solutions/use-cases/caching/#:~:text=Understanding%20Redis%20as%20a%20cache,data%20structures%20or%20Redis%20modules.\">Redis</a>, MySQL, and Magento.</p>\n\n\n\n<p><strong><em>How to Create and Schedule Backups in Magento 2</em></strong>: As part of the backup techniques in Magento Open Source, you can generate backups of three distinct system components, namely, the file system (excluding var/ and pub/static directories), the database, and the media files kept in the pub/media directory. When you initiate the backup procedure using Magento&#8217;s integrated backup system, the platform creates a .sql file for the database and a .tgz compressed archive file for the file system and media backup files. You can locate these backup files in the var/backups directory until you decide to remove them.</p>\n\n\n\n<h2 class=\"wp-block-heading\">How to backup Magento 2</h2>\n\n\n\n<p>To backup your Magento 2 data, follow these steps:</p>\n\n\n\n<p>1. Activate the Magento 2 backup tool.</p>\n\n\n\n<p>2. Set the value for the open files&#8217; limit.</p>\n\n\n\n<p>3. Proceed with backing up Magento 2.</p>\n\n\n\n<p>4. Optionally, schedule backups for Magento 2.</p>\n\n\n\n<p>5. Confirm the backup process for Magento 2.</p>\n\n\n\n<p>Note &#8211; It&#8217;s worth noting that Adobe has discontinued the built-in backup feature of Magento 2 from version 2.3.0 and later. Before implementing it on a production server, ensure you test the Magento 2 backup tool in a staging environment.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Step 1:Enable the Magento 2 backup tool</h3>\n\n\n\n<ul class=\"wp-block-list\">\n<li>&nbsp;Log in to your Magento server as the filesystem owner and locate the project root directory.</li>\n\n\n\n<li>&nbsp;Execute the subsequent CLI command to activate the Magento backup utility:</li>\n</ul>\n\n\n\n<pre class=\"wp-block-code\"><code><em>bin/magento config: set system/backup/functionality_enabled 1</em>\r\n</code></pre>\n\n\n\n<h3 class=\"wp-block-heading\">Step 2: Set the open filesâ€™ limit value</h3>\n\n\n\n<p>To set the open files&#8217; limit value, follow these instructions:</p>\n\n\n\n<p>1. Before initiating a backup, ensure that you update the open files&#8217; limit value for the Magento file system user.</p>\n\n\n\n<p>2. A low open file limit value can result in unsuccessful backups and rollbacks when using the Magento backup tool.</p>\n\n\n\n<p>3. Adobe recommends setting the open files limit value to 65536 or higher, depending on your system capabilities.</p>\n\n\n\n<p>4. To update the open files limit, execute the following command as the Magento filesystem user:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ ulimit -s 65536</em>\r\n</code></pre>\n\n\n\n<p>5. Confirm that the limit value has been updated by entering:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ ulimit -n</em>\r\n</code></pre>\n\n\n\n<h3 class=\"wp-block-heading\">Step 3: Backup Magento 2</h3>\n\n\n\n<p>To backup Magento 2, you can utilize the terminal and enter the subsequent CLI command syntax:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ php bin/magento setup:backup &#91;--code] &#91;--media] &#91;--db]</em>\r\n</code></pre>\n\n\n\n<p>You can also select one or more options to back up specific parts of your Magento store. For example, you can back up the database and file system with the following command:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ php bin/magento setup: backup --code --db</em>\n</code></pre>\n\n\n\n<p>Alternatively, you can also back up Magento 2 using the admin panel. To do so, navigate to System > Tools > Backups and choose one of the following three options:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li>&nbsp;System Backup</li>\n\n\n\n<li>&nbsp;Database and Media Backup</li>\n\n\n\n<li>&nbsp;Database Backup</li>\n</ul>\n\n\n\n<p>On the Backup options page, input a name for your backup and select the Maintenance mode checkbox to activate maintenance mode during the backup process. After you&#8217;ve configured the backup options, click &#8220;Ok&#8221; to start the backup.</p>\n\n\n\n<p>The duration of the backup process will vary depending on the size of your store, your server configuration, and the type of backup you&#8217;ve chosen. Once the backup has finished, you&#8217;ll receive a message indicating that the backup is complete.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Step 4: Schedule Magento 2 backups (optional)</h3>\n\n\n\n<p>If desired, you can set up a schedule to create automatic backups of your Magento 2 store on a daily, weekly, or monthly basis using the admin panel.</p>\n\n\n\n<p>To do this, log in to the Magento admin panel and go to Stores &gt; Settings &gt; Configuration &gt; Advanced &gt; System.</p>\n\n\n\n<p>In the Backup Settings section, make the following changes:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li>&nbsp;Enable Schedule Backup: Change the value to &#8220;Yes&#8221;.</li>\n\n\n\n<li>&nbsp;Scheduled Backup Type: Select the type of backup you want to create.</li>\n\n\n\n<li>&nbsp;Start Time: Choose the time when you want the backup to be created.</li>\n\n\n\n<li>&nbsp;Frequency: Select Daily, Weekly, or Monthly as the frequency.</li>\n\n\n\n<li>&nbsp;Maintenance Mode: Change the value to &#8220;Yes&#8221;.</li>\n</ul>\n\n\n\n<p>After making these changes, click the Save Config button to save your settings.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Step 5: Verify the Magento 2 Backup</h3>\n\n\n\n<p>After creating a backup in Magento 2, you can confirm its validity using either the admin panel or the terminal.</p>\n\n\n\n<p>To check in the admin panel, go to System &gt; Tools &gt; Backups. The most recent backup will appear in the grid, where you can check its creation date, type, and size.</p>\n\n\n\n<p>To check in the terminal, use the Magento CLI command:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ php bin/magento info:backups: list</em></code></pre>\n\n\n\n<p>This command will list all available backups with their respective details, such as filename, creation date, and size.</p>\n\n\n\n<h2 class=\"wp-block-heading\">How to restore a Magento 2 backup</h2>\n\n\n\n<p>Caution: When restoring a Magento 2 backup, all data generated by your e-commerce store after the backup was created will be permanently erased. This action cannot be reversed.</p>\n\n\n\n<p>To roll back to a Magento 2 backup from the admin panel, go to System &gt; Tools &gt; Backups and click the Rollback link of the desired backup.</p>\n\n\n\n<p>On the next page, configure the following settings:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li>User Password: Enter your Magento admin password.</li>\n\n\n\n<li>Maintenance mode: Enable maintenance mode during the rollback by checking the box.</li>\n\n\n\n<li>FTP (optional): Select the FTP connection option if needed.</li>\n\n\n\n<li>Click Ok to proceed.</li>\n</ul>\n\n\n\n<p>Alternatively, you can restore a Magento 2 backup from the command line. To do so, log in to your server as the Magento file system owner, navigate to the Magento project root, and execute the following command to display a list of available backups:</p>\n\n\n\n<pre class=\"wp-block-code\"><code>\n<em>$ php bin/magento info:backups: list</em>\n</code></pre>\n\n\n\n<p>The command to restore a backup may vary depending on the backup type. To restore a database backup, you can use the following command:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ php bin/magento setup: rollback -d &lt;backup_filename></em>\r\n</code></pre>\n\n\n\n<p>You can also rollback the file system backup by running the following command:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ php bin/magento setup: rollback -c &lt;backup_filename></em>\r\n</code></pre>\n\n\n\n<p>And finally, to restore the media folder backup you can use:</p>\n\n\n\n<pre class=\"wp-block-code\"><code><em>$ php bin/magento setup: rollback -m &lt;backup_filename></em>\r\n</code></pre>\n\n\n\n<p>After executing a rollback command, Magento will prompt you to confirm if:</p>\n\n\n\n<p>1. You want to proceed with the rollback.</p>\n\n\n\n<p>2. You want to keep the backup file after the rollback is completed.</p>\n\n\n\n<p>You can respond with &#8220;y&#8221; or &#8220;N&#8221; to both prompts, and the rollback process will complete accordingly.</p>\n\n\n\n<p>In addition to creating and scheduling backups, <a href=\"/how-to-configure-a-cron-job-in-magento-2-admin/\">configuring a cron job in Magento 2</a> is also essential for maintaining the health and performance of your store. A cron job is a scheduled task that runs automatically on your server at specific intervals. In Magento 2, the cron job can be set up via the admin panel by navigating to Stores > Configuration > Advanced > System > Cron. From there, you can configure the cron job options, such as the frequency and specific tasks to run, and ensure that the cron job is functioning correctly. By setting up a cron job, you can ensure that essential tasks, such as indexing and cache flushing, are performed regularly, improving the overall user experience of your Magento store.</p>\n\n\n\n<h2 class=\"wp-block-heading\">Conclusion</h2>\n\n\n\n<p><strong><em>How to Create and Schedule Backups in Magento 2</em></strong>: <strong><em>Creating and scheduling backups in Magento 2</em></strong> is an essential task that helps protect your e-commerce store from data loss and downtime. By following the steps outlined in this guide, you can enable the Magento backup tool, set the open files&#8217; limit value, create and schedule backups via the CLI or admin panel, and verify and restore backups when needed. Remember to test the backup functionality in a staging environment before using it on a production server and to take caution when restoring backups, as this process is permanent and irreversible. With a solid backup strategy in place, you can have peace of mind knowing your data is safe and secure.</p>\n<div class='sfsi_Sicons sfsi_Sicons_position_left' style='float: none; vertical-align: middle; text-align:left'><div style='margin:0px 8px 0px 0px; line-height: 24px'><span>Please follow and like us:</span></div><div class='sfsi_socialwpr'><div class='sf_fb_share sf_icon' style='text-align:left;vertical-align: middle;'><a  target='_blank' rel='noopener' href='https://www.facebook.com/sharer/sharer.php?u=/how-to-create-and-schedule-backups-in-magento-2/' style='display:inline-block;'><img class='sfsi_wicon'  data-pin-nopin='true' alt='fb-share-icon' title='Facebook Share' src='https://webguru.dev/wp-content/plugins/ultimate-social-media-icons/images/share_icons/fb_icons/en_US.svg' /></a></div><div class='sf_twiter sf_icon' style='display: inline-block;vertical-align: middle;width: auto;margin-left: 7px;'>\r\n\t\t\t\t\t\t<a target='_blank' rel='noopener' href='https://twitter.com/intent/tweet?text=How+to+Create+and+Schedule+Backups+in+Magento+2%3F+https%3A%2F%2Fwebguru.dev%2Fhow-to-create-and-schedule-backups-in-magento-2%2F'style='display:inline-block' >\r\n\t\t\t\t\t\t\t<img data-pin-nopin= true class='sfsi_wicon' src='https://webguru.dev/wp-content/plugins/ultimate-social-media-icons/images/share_icons/Twitter_Tweet/en_US_Tweet.svg' alt='Tweet' title='Tweet' >\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div></div></div><div class=\"saboxplugin-wrap\" itemtype=\"http://schema.org/Person\" itemscope itemprop=\"author\"><div class=\"saboxplugin-tab\"><div class=\"saboxplugin-gravatar\"><div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained  inline-gatsby-image-wrapper\"><div style=\"max-width:100px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;100&#x27;%20width=&#x27;100&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 100px) 100px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22\" data-srcset=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 100w\" alt=\"Aaron Jenkins\"/><noscript><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 100px) 100px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22\" srcSet=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 100w\" alt=\"Aaron Jenkins\"/></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector(\"[data-placeholder-image]\").style.opacity=0)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"1\">{\"image\":{\"images\":{\"sources\":[],\"fallback\":{\"src\":\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22\",\"srcSet\":\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 100w\",\"sizes\":\"(min-width: 100px) 100px, 100vw\"}},\"layout\":\"constrained\",\"width\":100,\"height\":100},\"alt\":\"Aaron Jenkins\",\"className\":\" inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"1\"}</script></div><div class=\"saboxplugin-authorname\"><a href=\"/author/aaron-jenkins/\" class=\"vcard author\" rel=\"author\"><span class=\"fn\">Aaron Jenkins</span></a></div><div class=\"saboxplugin-desc\"><div itemprop=\"description\"><p>I am Aaron Jenkins, a Magento Developer with over 12+ years of experience. I specialize in Magento 2 and I am passionate about sharing my knowledge and experience through my blog. Here, I will be sharing tutorials, tips, and best practices for all things Magento 2. Follow my blog and let&#8217;s learn and grow together.</p>\n</div></div><div class=\"clearfix\"></div></div></div>","date":"May 09, 2023"}},"pageContext":{"id":"cG9zdDoxODU4"}},"staticQueryHashes":[],"slicesMap":{}}