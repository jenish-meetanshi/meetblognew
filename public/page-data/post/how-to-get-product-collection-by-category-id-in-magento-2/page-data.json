{"componentChunkName":"component---src-templates-post-detail-js","path":"/post/how-to-get-product-collection-by-category-id-in-magento-2/","result":{"data":{"wpPost":{"title":"How to Get Product Collection by Category ID in Magento 2","content":"\n<p>As an online store owner using Magento 2, managing your products effectively is crucial to delivering an optimal shopping experience for your customers. Organizing your products into different categories is a fundamental aspect of efficiently managing your product offerings. </p>\n\n\n\n<p>However, there may be situations where you need to retrieve a product collection filtered by category ID to create customized product lists or apply specific filters. In this article, we will provide you with a detailed, step-by-step guide on <strong><em>how to get product collection by category ID in Magento 2</em></strong>. </p>\n\n\n\n<p>By following these instructions, you will be able to manage your products more efficiently, resulting in an organized and user-friendly online store for your customers to navigate.</p>\n\n\n\n<h2 class=\"wp-block-heading\">Why do we need to get a collection of products by category ID?</h2>\n\n\n\n<p>On some occasions, we need to access all the products belonging to a specific category, such as displaying products on the frontend and applying filters. In such cases, we can obtain a product collection filtered by category ID.</p>\n\n\n\n<h2 class=\"wp-block-heading\">How to Get Product Collection by Category ID in Magento 2</h2>\n\n\n\n<p>There are two methods to get a product collection filtered by category ID in Magento 2. Let&#8217;s have a look at both methods in detail.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Method 1: Using the Object Manager</h3>\n\n\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/Object_manager\">Object Manager</a> is an integral part of Magento 2&#8217;s architecture and is used to manage the instantiation of objects in the system. To get the product collection filtered by category ID using the Object Manager, follow the below steps.</p>\n\n\n\n<p>1. First, create an object of the Object Manager in your block file as follows:</p>\n\n\n\n<pre class=\"wp-block-code\"><code>php\n\nprotected $_objectManager;\n\npublic function __construct(\n\n&nbsp;&nbsp;&nbsp;&nbsp;\\Magento\\Framework\\ObjectManagerInterface $objectManager,\n\n&nbsp;&nbsp;&nbsp;&nbsp;...\n\n) {\n\n&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;_objectManager = $objectManager;\n\n&nbsp;&nbsp;&nbsp;&nbsp;...\n\n}</code></pre>\n\n\n\n<p>1.Then, create a method that returns the product collection filtered by category ID as follows:</p>\n\n\n\n<pre class=\"wp-block-code\"><code>php\n\npublic function getProductCollection($categoryId)\n\n{\n\n&nbsp;&nbsp;&nbsp;&nbsp;$category = $this-&gt;_objectManager-&gt;create(\\Magento\\Catalog\\Model\\Category::class)-&gt;load($categoryId);\n\n&nbsp;&nbsp;&nbsp;&nbsp;$collection = $this-&gt;_objectManager-&gt;create(\\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection::class);\n\n&nbsp;&nbsp;&nbsp;&nbsp;$collection-&gt;addAttributeToSelect('*');\n\n&nbsp;&nbsp;&nbsp;&nbsp;$collection-&gt;addCategoryFilter($category);\n\n&nbsp;&nbsp;&nbsp;&nbsp;return $collection;\n\n}</code></pre>\n\n\n\n<p>In this method, first, we load the category using the load method of the category model and then create a product collection using the create method of the Object Manager. Next, we add all the attributes to select using the addAttributeToSelect method, and then filter the collection by category ID using the addCategoryFilter method. Finally, the method returns the filtered product collection.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Method 2: Using the Product Repository</h3>\n\n\n\n<p>The <a href=\"https://www.goaland.com/blog/definition/product-repository#:~:text=A%20product%20repository%20allows%20you,action%20for%20improving%20business%20processes.\">Product Repository</a> is a service layer in Magento 2 that provides an interface to manage product data. To get the product collection filtered by category ID using the Product Repository, follow the below steps.</p>\n\n\n\n<p>1. First, inject the ProductRepository interface in your block file as follows:</p>\n\n\n\n<pre class=\"wp-block-code\"><code>php\n\nprotected $productRepository;\n\npublic function __construct(\n\n&nbsp;&nbsp;&nbsp;&nbsp;...\n\n&nbsp;&nbsp;&nbsp;&nbsp;\\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository,\n\n&nbsp;&nbsp;&nbsp;&nbsp;...\n\n) {\n\n&nbsp;&nbsp;&nbsp;&nbsp;...\n\n&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;productRepository = $productRepository;\n\n&nbsp;&nbsp;&nbsp;&nbsp;...\n\n}</code></pre>\n\n\n\n<p>1. Then, create a method that returns the product collection filtered by category ID as follows:</p>\n\n\n\n<pre class=\"wp-block-code\"><code>php\n\npublic function getProductCollection($categoryId)\n\n{\n\n&nbsp;&nbsp;&nbsp;&nbsp;$collection = $this-&gt;productRepository-&gt;getList(\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\Magento\\Framework\\Api\\SearchCriteriaBuilder::create()\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;addFilter('category_id', $categoryId, 'eq')\n\n-&gt;create()\n\n);\n\nreturn $collection-&gt;getItems();\n\n}\n\nsql</code></pre>\n\n\n\n<p>In this method, we first create a search criteria using the `SearchCriteriaBuilder` class. Then, we add a filter for category ID using the `addFilter` method and set the condition to &#8216;eq&#8217; (equal). Finally, we call the `getList` method of the `ProductRepository` interface to get the filtered product collection and return the result using the `getItems` method.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Conclusion</h3>\n\n\n\n<p>This blog post highlights two methods to achieve this task: one employing the Object Manager and the other utilizing the Product Repository. Both methods are simple and can be implemented as per specific requirements. I trust that this blog post has helped comprehend the process of getting a product collection filtered by category ID in Magento 2.</p>\n<div class='sfsi_Sicons sfsi_Sicons_position_left' style='float: none; vertical-align: middle; text-align:left'><div style='margin:0px 8px 0px 0px; line-height: 24px'><span>Please follow and like us:</span></div><div class='sfsi_socialwpr'><div class='sf_fb_share sf_icon' style='text-align:left;vertical-align: middle;'><a  target='_blank' rel='noopener' href='https://www.facebook.com/sharer/sharer.php?u=/how-to-get-product-collection-by-category-id-in-magento-2/' style='display:inline-block;'><img class='sfsi_wicon'  data-pin-nopin='true' alt='fb-share-icon' title='Facebook Share' src='https://webguru.dev/wp-content/plugins/ultimate-social-media-icons/images/share_icons/fb_icons/en_US.svg' /></a></div><div class='sf_twiter sf_icon' style='display: inline-block;vertical-align: middle;width: auto;margin-left: 7px;'>\r\n\t\t\t\t\t\t<a target='_blank' rel='noopener' href='https://twitter.com/intent/tweet?text=How+to+Get+Product+Collection+by+Category+ID+in+Magento+2+https%3A%2F%2Fwebguru.dev%2Fhow-to-get-product-collection-by-category-id-in-magento-2%2F'style='display:inline-block' >\r\n\t\t\t\t\t\t\t<img data-pin-nopin= true class='sfsi_wicon' src='https://webguru.dev/wp-content/plugins/ultimate-social-media-icons/images/share_icons/Twitter_Tweet/en_US_Tweet.svg' alt='Tweet' title='Tweet' >\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div></div></div><div class=\"saboxplugin-wrap\" itemtype=\"http://schema.org/Person\" itemscope itemprop=\"author\"><div class=\"saboxplugin-tab\"><div class=\"saboxplugin-gravatar\"><div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained  inline-gatsby-image-wrapper\"><div style=\"max-width:100px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;100&#x27;%20width=&#x27;100&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 100px) 100px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22\" data-srcset=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 100w\" alt=\"Aaron Jenkins\"/><noscript><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 100px) 100px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22\" srcSet=\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&amp;a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&amp;cd=2024-11-12T13%3A05%3A22 100w\" alt=\"Aaron Jenkins\"/></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector(\"[data-placeholder-image]\").style.opacity=0)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"1\">{\"image\":{\"images\":{\"sources\":[],\"fallback\":{\"src\":\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22\",\"srcSet\":\"/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/05624c0b3d4a4f7d0da605f624d7bb07/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D25%26h%3D25%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 25w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/7d342f8b9135b7648f10ed5d19c5b6df/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D50%26h%3D50%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 50w,/_gatsby/image/2c35eda577657dc17647bf1d65e5bd4e/f7535d1722cb1d17e5bf31154bf170d3/Aaron-Jenkins.png?u=https%3A%2F%2Fwebguru.dev%2Fwp-content%2Fuploads%2F2024%2F11%2FAaron-Jenkins.png&a=w%3D100%26h%3D100%26fm%3Dpng%26q%3D90&cd=2024-11-12T13%3A05%3A22 100w\",\"sizes\":\"(min-width: 100px) 100px, 100vw\"}},\"layout\":\"constrained\",\"width\":100,\"height\":100},\"alt\":\"Aaron Jenkins\",\"className\":\" inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"1\"}</script></div><div class=\"saboxplugin-authorname\"><a href=\"/author/aaron-jenkins/\" class=\"vcard author\" rel=\"author\"><span class=\"fn\">Aaron Jenkins</span></a></div><div class=\"saboxplugin-desc\"><div itemprop=\"description\"><p>I am Aaron Jenkins, a Magento Developer with over 12+ years of experience. I specialize in Magento 2 and I am passionate about sharing my knowledge and experience through my blog. Here, I will be sharing tutorials, tips, and best practices for all things Magento 2. Follow my blog and let&#8217;s learn and grow together.</p>\n</div></div><div class=\"clearfix\"></div></div></div>","date":"March 24, 2023"}},"pageContext":{"id":"cG9zdDoxNjg5"}},"staticQueryHashes":[],"slicesMap":{}}